@model TehnokratProject.Areas.User.ViewModels.ProductFilterPageViewModel
@{
    ViewData["Title"] = "Товари";
    ViewData["PageCss"] = "itrade.css";
}
<html>
<body>
    <form method="get" asp-area="User" asp-controller="Product" asp-action="Index">
        <main class="page">
            <div class="container">
                <h1 class="title">iTrade</h1>
            </div>

            @* @{ *@
            @*     var icons = new Dictionary<string, string> { *@
            @* { "Смартфон", "/assets/imgs/sections/repair-steps/phone.svg" }, *@
            @* { "Планшет", "/assets/imgs/sections/repair-steps/tablet.svg" }, *@
            @* { "Ноутбук", "/assets/imgs/sections/repair-steps/laptop.svg" }, *@
            @* { "Годинник", "/assets/imgs/sections/repair-steps/watch.svg" }, *@
            @* { "Інша техніка", "/assets/imgs/sections/repair-steps/other.svg" } *@
            @* }; *@
            @*     var allCategories = icons.Keys.ToList(); // Можна доповнити вручну, якщо потрібно *@
            @* } *@

            @* <style> *@
            @*     .categories { *@
            @*         display: flex; *@
            @*         gap: 12px; *@
            @*         flex-wrap: wrap; *@
            @*     } *@

            @*     .categories__item { *@
            @*         display: inline-flex; *@
            @*         flex-direction: column; *@
            @*         align-items: center; *@
            @*         padding: 10px; *@
            @*         border: 2px solid transparent; *@
            @*         border-radius: 8px; *@
            @*         cursor: pointer; *@
            @*         transition: all 0.3s ease; *@
            @*         background-color: #f9f9f9; *@
            @*         text-align: center; *@
            @*         width: 100px; *@
            @*     } *@

            @*         .categories__item.active { *@
            @*             border-color: #ffd33b; *@
            @*             background-color: #e6f0ff; *@
            @*         } *@

            @*         .categories__item img { *@
            @*             width: 48px; *@
            @*             height: 48px; *@
            @*             margin-bottom: 5px; *@
            @*         } *@

            @*         .categories__item input[type="checkbox"] { *@
            @*             display: none; *@
            @*         } *@

            @*         .categories__item p { *@
            @*             margin: 0; *@
            @*             font-size: 14px; *@
            @*         } *@
            @* </style> *@

            @* <div class="categories"> *@
            @*     @foreach (var category in allCategories) *@
            @*     { *@
            @*         var isChecked = Model.Filters.Categories.Contains(category); *@
            @*         var icon = icons[category]; *@

            @*         <label class="categories__item @(isChecked ? "active" : "")"> *@
            @*             <input type="checkbox" *@
            @*                    name="Categories" *@
            @*                    value="@category" *@
            @*             @(isChecked ? "checked" : "") /> *@
            @*             <img src="@icon" alt="@category" /> *@
            @*             <p>@category</p> *@
            @*         </label> *@
            @*     } *@
            @* </div> *@

          <div class="container">
            <div class="mobile-only">
              <label for="filters-modal" class="open-mobile-filters-button">
                <svg
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    fill-rule="evenodd"
                    clip-rule="evenodd"
                    d="M3 7C3 6.73478 3.10536 6.48043 3.29289 6.29289C3.48043 6.10536 3.73478 6 4 6H20C20.2652 6 20.5196 6.10536 20.7071 6.29289C20.8946 6.48043 21 6.73478 21 7C21 7.26522 20.8946 7.51957 20.7071 7.70711C20.5196 7.89464 20.2652 8 20 8H4C3.73478 8 3.48043 7.89464 3.29289 7.70711C3.10536 7.51957 3 7.26522 3 7ZM5 11.5C5 11.2348 5.10536 10.9804 5.29289 10.7929C5.48043 10.6054 5.73478 10.5 6 10.5H18C18.2652 10.5 18.5196 10.6054 18.7071 10.7929C18.8946 10.9804 19 11.2348 19 11.5C19 11.7652 18.8946 12.0196 18.7071 12.2071C18.5196 12.3946 18.2652 12.5 18 12.5H6C5.73478 12.5 5.48043 12.3946 5.29289 12.2071C5.10536 12.0196 5 11.7652 5 11.5ZM8 16C8 15.7348 8.10536 15.4804 8.29289 15.2929C8.48043 15.1054 8.73478 15 9 15H15C15.2652 15 15.5196 15.1054 15.7071 15.2929C15.8946 15.4804 16 15.7348 16 16C16 16.2652 15.8946 16.5196 15.7071 16.7071C15.5196 16.8946 15.2652 17 15 17H9C8.73478 17 8.48043 16.8946 8.29289 16.7071C8.10536 16.5196 8 16.2652 8 16Z"
                    fill="#272530"
                  />
                </svg>
                Фільтр
              </label>
            </div>

            <div class="grid">
                <div class="filters-desktop">
                    <h2 class="filters-desktop__title">Фільтр</h2>

                    <!-- Ціна -->
                    <div class="filter-group">
                        <button class="filter-group__header" type="button">
                            <span>Ціна</span>
                            <svg class="filter-group__arrow" width="16" height="16"><path d="M4 10L8 6L12 10" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" /></svg>
                        </button>
                        <div class="filter-group__content">
                            <div class="filter-price">
                                <input type="number" class="filter-price__input" name="MinPrice" value="@Model.Filters.MinPrice" placeholder="від" />
                                <span class="filter-price__separator">-</span>
                                <input type="number" class="filter-price__input" name="MaxPrice" value="@Model.Filters.MaxPrice" placeholder="до" />
                                <button class="filter-price__button" type="submit">Ok</button>
                            </div>
                        </div>
                    </div>

                    <!-- Категорія -->
                    <div class="filter-group">
                        <button class="filter-group__header" type="button">
                            <span>Категорія</span>
                            <svg class="filter-group__arrow" width="16" height="16"><path d="M4 10L8 6L12 10" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" /></svg>
                        </button>
                        <div class="filter-group__content">
                            @foreach (var category in  Model.Categories )
                            {
                                <label class="filter-checkbox">
                                    <input type="checkbox" name="Categories" value="@category.title" @(Model.Filters.Categories.Contains(category.title) ? "checked" : "") />
                                    <span class="filter-checkbox__checkmark"></span>
                                    @category.title
                                </label>
                            }
                        </div>
                    </div>

                    <!-- Бренд -->
                    <div class="filter-group">
                        <button class="filter-group__header" type="button">
                            <span>Бренд</span>
                            <svg class="filter-group__arrow" width="16" height="16"><path d="M4 10L8 6L12 10" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" /></svg>
                        </button>
                        <div class="filter-group__content">
                            @foreach (var brand in Model.Brands)
                            {
                                <label class="filter-checkbox">
                                    <input type="checkbox" name="Brands" value="@brand" @(Model.Filters.Brands.Contains(brand) ? "checked" : "") />
                                    <span class="filter-checkbox__checkmark"></span>
                                    @brand
                                </label>
                            }
                        </div>
                    </div>

                    <!-- Стан -->
                    <div class="filter-group">
                        <button class="filter-group__header" type="button">
                            <span>Стан</span>
                            <svg class="filter-group__arrow" width="16" height="16"><path d="M4 10L8 6L12 10" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" /></svg>
                        </button>
                        <div class="filter-group__content">
                            @foreach (var state in new[] { "Новий", "Б/У", "Відновлений" })
                            {
                                <label class="filter-checkbox">
                                    <input type="checkbox" name="Conditions" value="@state" @(Model.Filters.States.Contains(state) ? "checked" : "") />
                                    <span class="filter-checkbox__checkmark"></span>
                                    @state
                                </label>
                            }
                        </div>
                    </div>

                    <!-- Наявність -->
                    <div class="filter-group">
                        <button class="filter-group__header" type="button">
                            <span>За наявністю</span>
                            <svg class="filter-group__arrow" width="16" height="16"><path d="M4 10L8 6L12 10" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" /></svg>
                        </button>
                        <div class="filter-group__content">
                            @foreach (var option in new[] { new { Text = "В наявності", Value = true }, new { Text = "Під замовлення", Value = false } })
                            {
                                <label class="filter-checkbox">
                                    <input type="checkbox"
                                            name="Statuses"
                                            value="@option.Value.ToString().ToLower()"
                                    @(Model.Filters.Statuses.Contains(option.Value) ? "checked" : "") />
                                    <span class="filter-checkbox__checkmark"></span>
                                    @option.Text
                                </label>
                            }
                        </div>
                    </div>
                </div>
            

                <div class="products-list">
                    @foreach (var product in Model.Products)
                    {
                        <a asp-area="User" asp-controller="Application" asp-action="Create" class="product-card">
                            <div class="product-card__img">
                                <img src="@product.image_path"
                                        alt="@product.title"
                                        loading="lazy"
                                        onerror="this.onerror=null; this.src='/img/no-image.png';" />
                            </div>
                            <div class="product-card__code">@product.id</div>
                            <div class="product-card__title">@product.title</div>
                            <div class="product-card__price_container">
                                <div class="product-card__price_container__price">
                                    @product.price.ToString("N0") ₴
                                </div>
                                <div class="product-card__price_container__cart-button"
                                        onclick="event.stopPropagation()">
                                    <img src="/assets/imgs/cart.svg" alt="Cart" loading="lazy" />
                                </div>
                            </div>
                        </a>
                    }
                </div>
            </div>
            <!-- Пагінація -->
            <div class="pagination">
                @if (Model.TotalPages > 1)
                {
                    <ul>
                        @for (int i = 1; i <= Model.TotalPages; i++)
                        {
                            <li class="@(i == Model.CurrentPage ? "active" : "")">
                                <a asp-action="Index"
                                    asp-route-page="@i"
                                    asp-route-PageSize="@Model.PageSize"
                                    asp-all-route-data="@(new Dictionary<string, string>
                                    {
                                        { "MinPrice", Model.Filters.MinPrice?.ToString() },
                                        { "MaxPrice", Model.Filters.MaxPrice?.ToString() },
                                        { "State", Model.Filters.MaxPrice?.ToString() },
                                        { "Status", Model.Filters.MaxPrice?.ToString() },
                                        // Додай інші параметри фільтрації за потреби
                                    })">
                                    @i
                                </a>
                            </li>
                        }
                    </ul>
                }
            </div>
        </main>
    </form>
    <div class="faq-container">
        <div class="desktop-only"></div>
        <div class="accordion-container">
        <div class="title">❓ Питання–Відповіді</div>
        <div class="accordion-container__items">
            <div class="accordion-item">
            <button class="accordion-header">
                <span>Які товари ви пропонуєте?</span>
                <svg
                class="accordion-arrow"
                width="16"
                height="16"
                viewBox="0 0 16 16"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
                >
                <path
                    d="M4 6L8 10L12 6"
                    stroke="currentColor"
                    stroke-width="1.5"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                />
                </svg>
            </button>
            <div class="accordion-content">
                <p>
                Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed
                do eiusmod tempor incididunt ut labore et dolore magna
                aliqua. Ut enim ad minim veniam, quis nostrud exercitation
                ullamco laboris nisi ut aliquip ex ea commodo consequat.
                Duis aute irure dolor in reprehenderit in voluptate velit
                esse cillum dolore eu fugiat nulla pariatur. Excepteur sint
                occaecat cupidatat non proident, sunt in culpa qui officia
                deserunt mollit anim id est laborum.
                </p>
            </div>
            </div>
            <div class="accordion-item">
            <button class="accordion-header">
                <span>Чи оригінальні у вас запчастини?</span>
                <svg
                class="accordion-arrow"
                width="16"
                height="16"
                viewBox="0 0 16 16"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
                >
                <path
                    d="M4 6L8 10L12 6"
                    stroke="currentColor"
                    stroke-width="1.5"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                />
                </svg>
            </button>
            <div class="accordion-content">
                <p>
                Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed
                do eiusmod tempor incididunt ut labore et dolore magna
                aliqua. Ut enim ad minim veniam, quis nostrud exercitation
                ullamco laboris nisi ut aliquip ex ea commodo consequat.
                Duis aute irure dolor in reprehenderit in voluptate velit
                esse cillum dolore eu fugiat nulla pariatur. Excepteur sint
                occaecat cupidatat non proident, sunt in culpa qui officia
                deserunt mollit anim id est laborum.
                </p>
            </div>
            </div>
            <div class="accordion-item">
            <button class="accordion-header">
                <span>Чи можна повернути товар?</span>
                <svg
                class="accordion-arrow"
                width="16"
                height="16"
                viewBox="0 0 16 16"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
                >
                <path
                    d="M4 6L8 10L12 6"
                    stroke="currentColor"
                    stroke-width="1.5"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                />
                </svg>
            </button>
            <div class="accordion-content">
                <p>
                Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed
                do eiusmod tempor incididunt ut labore et dolore magna
                aliqua. Ut enim ad minim veniam, quis nostrud exercitation
                ullamco laboris nisi ut aliquip ex ea commodo consequat.
                Duis aute irure dolor in reprehenderit in voluptate velit
                esse cillum dolore eu fugiat nulla pariatur. Excepteur sint
                occaecat cupidatat non proident, sunt in culpa qui officia
                deserunt mollit anim id est laborum.
                </p>
            </div>
            </div>
            <div class="accordion-item">
            <button class="accordion-header">
                <span>Скільки часу триває доставка?</span>
                <svg
                class="accordion-arrow"
                width="16"
                height="16"
                viewBox="0 0 16 16"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
                >
                <path
                    d="M4 6L8 10L12 6"
                    stroke="currentColor"
                    stroke-width="1.5"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                />
                </svg>
            </button>
            <div class="accordion-content">
                <p>
                Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed
                do eiusmod tempor incididunt ut labore et dolore magna
                aliqua. Ut enim ad minim veniam, quis nostrud exercitation
                ullamco laboris nisi ut aliquip ex ea commodo consequat.
                Duis aute irure dolor in reprehenderit in voluptate velit
                esse cillum dolore eu fugiat nulla pariatur. Excepteur sint
                occaecat cupidatat non proident, sunt in culpa qui officia
                deserunt mollit anim id est laborum.
                </p>
            </div>
            </div>
            <div class="accordion-item">
            <button class="accordion-header">
                <span>Чи є гарантія на товари?</span>
                <svg
                class="accordion-arrow"
                width="16"
                height="16"
                viewBox="0 0 16 16"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
                >
                <path
                    d="M4 6L8 10L12 6"
                    stroke="currentColor"
                    stroke-width="1.5"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                />
                </svg>
            </button>
            <div class="accordion-content">
                <p>
                Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed
                do eiusmod tempor incididunt ut labore et dolore magna
                aliqua. Ut enim ad minim veniam, quis nostrud exercitation
                ullamco laboris nisi ut aliquip ex ea commodo consequat.
                Duis aute irure dolor in reprehenderit in voluptate velit
                esse cillum dolore eu fugiat nulla pariatur. Excepteur sint
                occaecat cupidatat non proident, sunt in culpa qui officia
                deserunt mollit anim id est laborum.
                </p>
            </div>
            </div>
        </div>
        </div>
    </div>
    </div>
       
   
    <script src="accordion.js"></script>
  </body> 
</html>
<script>
    document.querySelectorAll('.categories__item').forEach(label => {
      label.addEventListener('click', function (e) {
        const checkbox = this.querySelector('input[type="checkbox"]');
        checkbox.checked = !checkbox.checked;
        this.classList.toggle('active');
      });
    });
</script>